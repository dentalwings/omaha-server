[base]
passenv = PATH_TO_TEST DJANGO_SETTINGS_MODULE OMAHA_SERVER_PRIVATE HOST_NAME SECRET_KEY REDIS_HOST DB_HOST TRAVIS TRAVIS_JOB_ID TRAVIS_BRANCH
commands =
  ./manage.py test --settings=omaha_server.settings_test
deps =
  funcsigs
  google-compute-engine
  -rrequirements_dev.txt

[tox]
envlist = py{27}
skipsdist = true

[testenv]
passenv = {[base]passenv}
commands = {[base]commands}
deps = {[base]deps}

[testenv:coverage]
passenv = {[base]passenv}
commands =
  {[base]commands}
  coveralls --skip_ssl_verify
deps = {[base]deps}
